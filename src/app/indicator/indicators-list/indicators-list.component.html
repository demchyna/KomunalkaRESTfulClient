<div class="table-responsive">

<table class="table table-bordered">
  <thead class="table-sm">
    <tr class="table-secondary">
      <th class="text-center align-middle" scope="col" rowspan="3">&nbsp;#&nbsp;</th>
      <th class="text-center align-middle" scope="col" rowspan="2" [class.active]="order === 'date'" (click)="setOrder('date')" id="test">
        <span class="sort-icons-container">
          <span [hidden]="reverse || !(order === 'date')">
            <i class="fa fa-sort-desc" aria-hidden="true"></i>
          </span>
          <span [hidden]="!reverse || !(order === 'date')">
            <i class="fa fa-sort-asc" aria-hidden="true"></i>
          </span>
          <span [hidden]="order === 'date'" class="sort-icon">
            <i class="fa fa-sort" aria-hidden="true"></i>
          </span>
        </span>
        Дата фіксації
      </th>
      <th class="text-center align-middle" scope="col" colspan="2">Показник</th>
      <th class="text-center align-middle" scope="col" rowspan="2" [class.active]="order === 'unitName'" (click)="setOrder('unitName')">
        <span class="sort-icons-container">
          <span [hidden]="reverse || !(order === 'unitName')">
            <i class="fa fa-sort-desc" aria-hidden="true"></i>
          </span>
          <span [hidden]="!reverse || !(order === 'unitName')">
            <i class="fa fa-sort-asc" aria-hidden="true"></i>
          </span>
          <span [hidden]="order === 'unitName'" class="sort-icon">
            <i class="fa fa-sort" aria-hidden="true"></i>
          </span>
        </span>
        Одиниці вимірювання
      </th>
      <th class="text-center align-middle" scope="col" rowspan="2" colspan="2" [class.active]="order === 'tariffRate'" (click)="setOrder('tariffRate')">
        <span class="sort-icons-container">
          <span [hidden]="reverse || !(order === 'tariffRate')">
            <i class="fa fa-sort-desc" aria-hidden="true"></i>
          </span>
          <span [hidden]="!reverse || !(order === 'tariffRate')">
            <i class="fa fa-sort-asc" aria-hidden="true"></i>
          </span>
          <span [hidden]="order === 'tariffRate'" class="sort-icon">
            <i class="fa fa-sort" aria-hidden="true"></i>
          </span>
        </span>
        Тариф
      </th>
      <th class="text-center align-middle" scope="col" rowspan="2" colspan="2" [class.active]="order === 'price'" (click)="setOrder('price')">
        <span class="sort-icons-container">
          <span [hidden]="reverse || !(order === 'price')">
            <i class="fa fa-sort-desc" aria-hidden="true"></i>
          </span>
          <span [hidden]="!reverse || !(order === 'price')">
            <i class="fa fa-sort-asc" aria-hidden="true"></i>
          </span>
          <span [hidden]="order === 'price'" class="sort-icon">
            <i class="fa fa-sort" aria-hidden="true"></i>
          </span>
        </span>
        Вартість
      </th>
      <th class="text-center align-middle" scope="col" rowspan="2" [class.active]="order === 'status'" (click)="setOrder('status')">
        <span class="sort-icons-container">
          <span [hidden]="reverse || !(order === 'status')">
            <i class="fa fa-sort-desc" aria-hidden="true"></i>
          </span>
          <span [hidden]="!reverse || !(order === 'status')">
            <i class="fa fa-sort-asc" aria-hidden="true"></i>
          </span>
          <span [hidden]="order === 'status'" class="sort-icon">
            <i class="fa fa-sort" aria-hidden="true"></i>
          </span>
        </span>
        Статус
      </th>
      <th class="text-center align-middle" scope="col" rowspan="3" colspan="2">Редагувати / <br> Видалити</th>
    </tr>
    <tr class="table-secondary">
      <th class="text-center align-middle" scope="col" [class.active]="order === 'previous'" (click)="setOrder('previous')">
        <span class="sort-icons-container">
          <span [hidden]="reverse || !(order === 'previous')">
            <i class="fa fa-sort-desc" aria-hidden="true"></i>
          </span>
          <span [hidden]="!reverse || !(order === 'previous')">
            <i class="fa fa-sort-asc" aria-hidden="true"></i>
          </span>
          <span [hidden]="order === 'previous'" class="sort-icon">
            <i class="fa fa-sort" aria-hidden="true"></i>
          </span>
        </span>
        попередній
      </th>
      <th class="text-center align-middle" scope="col" [class.active]="order === 'current'" (click)="setOrder('current')">
        <span class="sort-icons-container">
          <span [hidden]="reverse || !(order === 'current')">
            <i class="fa fa-sort-desc" aria-hidden="true"></i>
          </span>
          <span [hidden]="!reverse || !(order === 'current')">
            <i class="fa fa-sort-asc" aria-hidden="true"></i>
          </span>
          <span [hidden]="order === 'current'" class="sort-icon">
            <i class="fa fa-sort" aria-hidden="true"></i>
          </span>
        </span>
        поточний
      </th>
    </tr>
    <tr>
      <td>
        <div (click)="clickEvent($event)">
          <input type="search" class="input-small" [(ngModel)]="indicatorDateValue" placeholder="Дата">
        </div>
      </td>
      <td>
        <div (click)="clickEvent($event)">
          <input type="search" class="input-small" [(ngModel)]="indicatorPreviousValue" placeholder="Значення">
        </div>
      </td>
      <td>
        <div (click)="clickEvent($event)">
          <input type="search" class="input-small" [(ngModel)]="indicatorCurrentValue" placeholder="Значення">
        </div>
      </td>
      <td>
        <div (click)="clickEvent($event)">
          <input type="search" class="input-small" [(ngModel)]="tariffUnitNameValue" placeholder="Одиниці">
        </div>
      </td>
      <td colspan="2">
        <div (click)="clickEvent($event)">
          <input type="search" class="input-small" [(ngModel)]="tariffRateValue" placeholder="Тариф">
        </div>
      </td>
      <td colspan="2">
        <div (click)="clickEvent($event)">
          <input type="search" class="input-small" [(ngModel)]="indicatorPriceValue" placeholder="Вартість">
        </div>
      </td>
      <td>
        <div (click)="clickEvent($event)">
          <input type="search" class="input-small" [(ngModel)]="indicatorStatusValue" placeholder="Статус">
        </div>
      </td>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let indicator of indicators
        | searchFilter: 'date' : indicatorDateValue
        | searchFilter: 'unitName' : tariffUnitNameValue
        | searchFilter: 'tariffRate' : tariffRateValue
        | searchFilter: 'price' : indicatorPriceValue
        | searchFilter: 'status' : indicatorStatusValue
        | searchFilter: 'previous' : indicatorPreviousValue
        | searchFilter: 'current' : indicatorCurrentValue
        | orderBy: order: reverse:'case-insensitive'
        | paginate: { itemsPerPage: itemsNumber, currentPage: currentPage };
        index as i;
        even as isEven"
        [ngStyle]="{ 'background-color': isEven ? '' : '#F5F5F5' }"
        (click)="selectedRow(indicator.id)"
        align="center">

      <td>{{i+1}}</td>
      <td>{{indicator.date}}</td>
      <td>{{indicator.previous}}</td>
      <td>{{indicator.current}}</td>
      <td>{{indicator.unitName}}</td>
      <td>{{indicator.tariffRate}}</td>
      <td>{{indicator.tariffCurrency}} / {{indicator.unitName}}</td>
      <td>{{indicator.price}}</td>
      <td>{{indicator.tariffCurrency}}</td>
      <td>
        <span *ngIf="indicator.status">Оплачено</span>
        <span *ngIf="!indicator.status">Неоплачено</span>
      </td>
      <td colspan="2">
        <button class="btn btn-primary btn-sm" (click)="editIndicator(indicator.id, $event)">
          <i class="fa fa-pencil" aria-hidden="true"></i>
        </button>
        <div class="button-separator"></div>
        <button class="btn btn-danger btn-sm" (click)="deleteIndicator(indicator.id, $event)">
          <i class="fa fa-trash" aria-hidden="true"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>
</div>
<br>
<pagination-controls class="pagination" (pageChange)="currentPage = $event" previousLabel="Попередня" nextLabel="Наступна" style="display: inline-block"></pagination-controls>
<label for="itemsNumber">Записів на сторінку: </label>
<select [(ngModel)]="itemsNumber" name="itemsNumber" id="itemsNumber">
  <option *ngFor="let number of [3,5,10,20,50]">{{number}}</option>
  <option [ngValue]="maxIntegerValue">Всі</option>
</select>
<div id="indicators-button-group">
  <button class="btn btn-primary" id="add-indicator-button" (click)="addIndicator()">Додати показник</button>
  <div class="button-separator"></div>
  <button class="btn btn-success">Згенерувати звіт</button>
</div>
